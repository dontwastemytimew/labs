#pragma once

#include <QString>
#include <QList>

/**
 * @struct Field
 * @brief Описує структуру одного поля в схемі.
 *
 * Використовується для визначення того, які дані користувач повинен
 * ввести при створенні нотатки (наприклад, поле "Інгредієнти" типу "Текст").
 */
struct Field {
    QString name; ///< Назва поля, яка відображається як мітка (Label) в інтерфейсі редактора.
    QString type; ///< Тип даних поля (наприклад, "Текст", "Число", "Дата"). Наразі використовується для інформативних цілей.
};

/**
 * @class Schema
 * @brief Модель даних для шаблону (схеми) нотатки.
 *
 * Схема діє як "креслення" або "прототип" для нотаток. Вона визначає структуру даних,
 * яку повинна мати нотатка. Наприклад, схема "Книга" може містити поля "Автор" та "Рік",
 * тоді як схема "Контакт" — поля "Телефон" та "Email".
 *
 * @see Note
 */
class Schema {
public:
    /**
     * @brief Конструктор класу Schema.
     *
     * Створює нову порожню схему з заданою назвою. Початковий список полів порожній.
     *
     * @param name Унікальна назва схеми (наприклад, "Рецепт", "Завдання").
     */
    Schema(const QString &name);

    /**
     * @brief Додає нове поле до структури схеми.
     *
     * @details Поля зберігаються в порядку їх додавання. Цей порядок використовується
     * при генерації інтерфейсу у вікні редагування нотатки (NoteEditor).
     *
     * @param field Об'єкт Field, що містить назву та тип нового поля.
     */
    void addField(const Field &field);

    /**
     * @brief Повертає назву схеми.
     * @return QString з назвою.
     */
    QString getName() const;

    /**
     * @brief Повертає список усіх полів цієї схеми.
     *
     * @details Використовується іншими класами (наприклад, NoteEditor) для того,
     * щоб побудувати динамічний інтерфейс для введення даних.
     *
     * @return Константне посилання на QList об'єктів Field.
     */
    const QList<Field>& getFields() const;

private:
    QString m_name;        ///< Назва схеми.
    QList<Field> m_fields; ///< Список полів, що визначають структуру нотатки.
};